# Система керування вхідними документами

Простий веб-додаток, створений за допомогою Flask та PostgreSQL, для відстеження та керування вхідними документами. Він надає веб-інтерфейс з функціями фільтрації, сортування та CRUD-операцій (створення, читання, видалення).

## Основні можливості

- **Веб-інтерфейс**: Перегляд документів у зручній таблиці.
- **Додавання документів**: Створення нових записів через модальну форму з автоматичним заповненням випадковими даними для тестування.
- **Видалення документів**: Видалення записів безпосередньо з таблиці з підтвердженням.
- **Фільтрація**: Динамічна фільтрація документів за грифом, типом джерела та діапазоном дат отримання.
- **Сортування**: Сортування списку документів за ID, номером, датою отримання та пріоритетом.
- **Пагінація**: Можливість вибору кількості записів на сторінці (10, 25, 50) та навігація по сторінках.
- **REST API**: Базовий API для програмної взаємодії з документами.

## Технології

- **Бекенд**: Python, Flask
- **Фронтенд**: HTML, CSS, JavaScript (Vanilla JS)
- **База даних**: PostgreSQL
- **Основні бібліотеки**: `psycopg2-binary`, `python-dotenv`, `Flask`

## Встановлення та запуск

Виконайте ці кроки, щоб запустити проєкт локально.

### 1. Клонуйте репозиторій

```bash
git clone <URL-вашого-репозиторію>
cd <назва-папки-проєкту>
```

### 2. Створіть та активуйте віртуальне середовище

Це ізолює залежності проєкту.

```bash
# Для Windows
python -m venv venv
.\venv\Scripts\activate

# Для macOS/Linux
python3 -m venv venv
source venv/bin/activate
```

### 3. Встановіть залежності

```bash
pip install -r requirements.txt
```

### 4. Налаштуйте базу даних PostgreSQL

- Переконайтеся, що у вас встановлено та запущено сервер PostgreSQL.
- Створіть нову базу даних, наприклад, `military_docs`.

### 5. Налаштуйте змінні середовища

Створіть файл `.env` у кореневій папці проєкту. Найпростіше це зробити, скопіювавши файл `.env.example` та відредагувавши його.

```bash
cp .env.example .env
```

Відкрийте файл `.env` та вкажіть ваші дані для підключення до бази даних.

**Важливо**: Файл `.env` вже додано до `.gitignore`, щоб уникнути потрапляння секретних даних у репозиторій.

### 6. Розгорніть базу даних

Для створення таблиць та наповнення їх початковими даними, вам потрібно відновити базу даних з дампа. Файл дампа знаходиться в папці `sql`.

#### Варіант 1: Використання командного рядка (`psql`)

Виконайте наступну команду, щоб імпортувати дамп (`dump.sql`) у вашу базу даних `military_docs`:

```bash
psql -U <ваше-ім'я-користувача> -d military_docs -f sql/dump.sql
```

Замініть `<ваше-ім'я-користувача>` на ваше ім'я користувача PostgreSQL. Ця команда створить необхідні таблиці та заповнить їх даними для роботи додатку.

### 7. Запустіть додаток

```bash
python run.py
```

Додаток буде доступний за адресою http://127.0.0.1:5001.

## API Ендпоінти

- `GET /api/docs` — повертає список усіх документів у форматі JSON.
- `POST /api/docs` — створює новий документ. Тіло запиту має містити JSON з даними документа.
- `DELETE /api/docs/{id}` — видаляє документ із зазначеним `id`.
